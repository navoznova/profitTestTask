<!DOCTYPE html>
<!-- Page with card -->
<html lang="ru">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div class="card">
        <img class="card__img" src="./assets/images/product image-min.png" alt="Food">
        <div class="card__info">
            <div class="card__content">
                <div class="card__description">
                    Fruits and vegetables are packed with essential vitamins,
                    minerals, and nutrients that are essential for maintaining a healthy body and mind
                </div>
                <div class="wrap">
                    <div class="card__ingredients">
                        Fruits and vegetables
                    </div>
                    <div class="card__price">
                        $ 3.90
                    </div>
                </div>
                <div class="card__tags">
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Fresh</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Healthy food</div>
                        <div class="icon"></div>
                    </div>
                    <div class="card__tag">
                        <div>Last tag for debagging</div>
                        <div class="icon"></div>
                    </div>
                </div>
            </div>
            <div class="card__location">
                <svg class="card__location__icon">
                    <use x="5" y="2" href="./assets/images/sprite.svg#location"></use>
                </svg>
                <div class="card__location__name">Newport Beach, CA, USA</div>
            </div>
        </div>

        <script type="module">

            let allTags = document.querySelectorAll('.card__tag');
            let parentContainerLength = document.querySelector('.card__content').offsetWidth;
            let tagsContainer = document.querySelector('.card__content');
            let containerRect = tagsContainer.getBoundingClientRect();
            let tagsContainerLength = tagsContainer.offsetWidth;
            let currentTagsLength = 0;

            // Первый способ скрыть элемент 
            for (let i = 0; i <= allTags.length; i++) {
                currentTagsLength += allTags[i].offsetWidth;

                if (currentTagsLength > parentContainerLength) {
                    allTags[i].style.display = "none";
                    allTags[i - 1].style.display = "none";
                    allTags[i - 2].lastElementChild.style.display = "none";
                }
            }

            // Второй способ скрыть элемент
            // function showHideTags() {
            //     for (let i = 0; i < allTags.length; i++) {
            //         let tag = allTags[i];
            //         let rect = tag.getBoundingClientRect();
            //         tagsContainer.offsetWidth
            //         tag.style.display = containerRect.right - container.style.gap> rect.right
            //             ? "flex"
            //             : "none";
            //     }
            // }

        </script>
</body>

</html>